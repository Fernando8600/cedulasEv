
<?php
include_once "../connection.php";
function validateRequest($request)
{
    return  !isset($request['centro_salud_id']) || !isset($request['nombre_encuestador']) || !isset($request['pregunta_01']) || !isset($request['pregunta_02']) || !isset($request['pregunta_03']) || !isset($request['pregunta_04']) || !isset($request['pregunta_05']) || !isset($request['pregunta_06']) || !isset($request['pregunta_07']) || !isset($request['pregunta_08']) || !isset($request['pregunta_09']) || !isset($request['supervisor_01']) || !isset($request['pregunta_10']) || !isset($request['supervisor_02']) || !isset($request['pregunta_11']) || !isset($request['pregunta_12']) || !isset($request['pregunta_13']) || !isset($request['pregunta_14']) || !isset($request['pregunta_15']) || !isset($request['pregunta_16']) || !isset($request['pregunta_17']) || !isset($request['pregunta_18']) || !isset($request['pregunta_19']) || !isset($request['pregunta_20'])  || !isset($request['supervisor_03']) || !isset($request['pregunta_23']) || !isset($request['pregunta_24']) || !isset($request['pregunta_25']) || !isset($request['pregunta_26']) || !isset($request['pregunta_27']) || !isset($request['pregunta_28']) || !isset($request['pregunta_29']) || !isset($request['pregunta_30']) || !isset($request['pregunta_31']) || !isset($request['pregunta_32']) || !isset($request['pregunta_33']) || !isset($request['pregunta_34']) || !isset($request['pregunta_35']) || !isset($request['pregunta_36']) || !isset($request['pregunta_37']) || !isset($request['pregunta_38']) || !isset($request['pregunta_39']) || !isset($request['pregunta_40']) || !isset($request['pregunta_41']) || !isset($request['pregunta_42']) || !isset($request['pregunta_43']) || !isset($request['pregunta_44']) || !isset($request['pregunta_45']) || !isset($request['pregunta_46']) || !isset($request['pregunta_47']) || !isset($request['pregunta_48']) || !isset($request['pregunta_49']) || !isset($request['pregunta_50']) || !isset($request['pregunta_51']) || !isset($request['pregunta_52']) || !isset($request['pregunta_53']) || !isset($request['pregunta_54']) || !isset($request['pregunta_55']) || !isset($request['pregunta_56']) || !isset($request['pregunta_57']) || !isset($request['pregunta_58']) || !isset($request['pregunta_59']) || !isset($request['pregunta_60']) || !isset($request['pregunta_61']) || !isset($request['pregunta_62']) || !isset($request['pregunta_63']) || !isset($request['pregunta_64']) || !isset($request['pregunta_65']) || !isset($request['pregunta_66']) || !isset($request['pregunta_67']) || !isset($request['pregunta_68']) || !isset($request['pregunta_69']) || !isset($request['pregunta_70']) || !isset($request['pregunta_71']) || !isset($request['pregunta_72']) || !isset($request['pregunta_73']) || !isset($request['pregunta_74']) || !isset($request['pregunta_75']) || !isset($request['pregunta_76']) || !isset($request['pregunta_77']) || !isset($request['pregunta_78']) || !isset($request['pregunta_79']) || !isset($request['pregunta_80']) || !isset($request['pregunta_81']) || !isset($request['pregunta_82']) || !isset($request['pregunta_83']) || !isset($request['pregunta_84']) || !isset($request['pregunta_85']) || !isset($request['pregunta_86']) || !isset($request['pregunta_87']) || !isset($request['pregunta_88']) || !isset($request['pregunta_89']) || !isset($request['supervisor_04']) || !isset($request['pregunta_90']) || !isset($request['pregunta_91']) || !isset($request['pregunta_92']) || !isset($request['pregunta_93']) || !isset($request['pregunta_94']) || !isset($request['pregunta_95']) || !isset($request['pregunta_96']) || !isset($request['pregunta_97']) || !isset($request['supervisor_05']) || !isset($request['pregunta_98']) || !isset($request['pregunta_99']) || !isset($request['pregunta_100']) || !isset($request['pregunta_101']) || !isset($request['pregunta_102']) || !isset($request['pregunta_103']) || !isset($request['pregunta_104']) || !isset($request['pregunta_105']) || !isset($request['pregunta_106']) || !isset($request['pregunta_111']) || !isset($request['pregunta_112']) || !isset($request['pregunta_113']) || !isset($request['expediente_01']) || !isset($request['expediente_02']) || !isset($request['expediente_03']) || !isset($request['pregunta_128']) || !isset($request['pregunta_129']) || !isset($request['pregunta_130']) || !isset($request['pregunta_138']) || !isset($request['pregunta_139']) || !isset($request['pregunta_140']);
}
if ($_SERVER['REQUEST_METHOD'] === 'POST') {
    $request = json_decode(file_get_contents("php://input"), true);
    if (validateRequest($request)) {
        // Return "Bad Request" status
        header('HTTP/1.0 400 Bad Request');
        echo "Missing required fields";
        exit();
    }
    $conn = createConnection();
    // echo var_dump($requestData);
    $sql = "INSERT INTO cedula_evaluaciones.formulario_cedulas_02 (centro_salud_id, nombre_encuestador, pregunta_01, pregunta_02, pregunta_03, pregunta_04, pregunta_05, pregunta_06, pregunta_07, pregunta_08,supervisor_01, pregunta_09, pregunta_10, pregunta_11, pregunta_12,supervisor_02, pregunta_13, pregunta_14, pregunta_15, pregunta_16, pregunta_17, pregunta_18, pregunta_19, pregunta_20, pregunta_21,pregunta_22,supervisor_03,pregunta_23,pregunta_24, pregunta_25, pregunta_26, pregunta_27, pregunta_28, pregunta_29, pregunta_30, pregunta_31, pregunta_32, pregunta_33, pregunta_34, pregunta_35, pregunta_36, pregunta_37, pregunta_38, pregunta_39, pregunta_40, pregunta_41, pregunta_42, pregunta_43, pregunta_44, pregunta_45, pregunta_46, pregunta_47, pregunta_48, pregunta_49, pregunta_50, pregunta_51, pregunta_52, pregunta_53, pregunta_54, pregunta_55, pregunta_56, pregunta_57, pregunta_58, pregunta_59, pregunta_60, pregunta_61, pregunta_62, pregunta_63, pregunta_64, pregunta_65, pregunta_66, pregunta_67, pregunta_68, pregunta_69, pregunta_70, pregunta_71, pregunta_72, pregunta_73, pregunta_74, pregunta_75, pregunta_76, pregunta_77, pregunta_78, pregunta_79, pregunta_80, pregunta_81,supervisor_04, pregunta_82, pregunta_83, pregunta_84, pregunta_85, pregunta_86, pregunta_87, pregunta_88, pregunta_89,supervisor_05, pregunta_90, pregunta_91, pregunta_92, pregunta_93, pregunta_94, pregunta_95, pregunta_96, pregunta_97, pregunta_98, pregunta_99, pregunta_100, pregunta_101, pregunta_102, pregunta_103, pregunta_104, pregunta_105, pregunta_106, expediente_01, pregunta_107, pregunta_108, pregunta_109, pregunta_110, pregunta_111, pregunta_112, pregunta_113,expediente_02, pregunta_114, pregunta_115, pregunta_116, pregunta_117, pregunta_118, pregunta_119, pregunta_120, pregunta_121, pregunta_122, pregunta_123, pregunta_124, pregunta_125, pregunta_126, pregunta_127, pregunta_128, pregunta_129, pregunta_130,expediente_03, pregunta_131, pregunta_132, pregunta_133, pregunta_134, pregunta_135, pregunta_136, pregunta_137, pregunta_138, pregunta_139, pregunta_140)
    values(" . $request["centro_salud_id"] . ",'" . $request["nombre_encuestador"] . "','" . $request["pregunta_01"] . "','" . $request["pregunta_02"] . "','" . $request["pregunta_03"] . "','" . $request["pregunta_04"] . "','" . $request["pregunta_05"] . "','" . $request["pregunta_06"] . "','" . $request["pregunta_07"] . "','" . $request["pregunta_08"] . "','" . $request["supervisor_01"] . "','" . $request["pregunta_09"] . "','" . $request["pregunta_10"] . "','" . $request["pregunta_11"] . "','" . $request["pregunta_12"] . "','" . $request["supervisor_02"] . "','" . $request["pregunta_13"] . "','" . $request["pregunta_14"] . "','" . $request["pregunta_15"] . "','" . $request["pregunta_16"] . "','" . $request["pregunta_17"] . "','" . $request["pregunta_18"] . "','" . $request["pregunta_19"] . "','" . $request["pregunta_20"] . "','" . $request["pregunta_21"] . "','" . $request["pregunta_22"] . "','" . $request["supervisor_03"] . "','" . $request["pregunta_23"] . "','" . $request["pregunta_24"] . "','" . $request["pregunta_25"] . "','" . $request["pregunta_26"] . "','" . $request["pregunta_27"] . "','" . $request["pregunta_28"] . "','" . $request["pregunta_29"] . "','" . $request["pregunta_30"] . "','" . $request["pregunta_31"] . "','" . $request["pregunta_32"] . "','" . $request["pregunta_33"] . "','" . $request["pregunta_34"] . "','" . $request["pregunta_35"] . "','" . $request["pregunta_36"] . "','" . $request["pregunta_37"] . "','" . $request["pregunta_38"] . "','" . $request["pregunta_39"] . "','" . $request["pregunta_40"] . "','" . $request["pregunta_41"] . "','" . $request["pregunta_42"] . "','" . $request["pregunta_43"] . "','" . $request["pregunta_44"] . "','" . $request["pregunta_45"] . "','" . $request["pregunta_46"] . "','" . $request["pregunta_47"] . "','" . $request["pregunta_48"] . "','" . $request["pregunta_49"] . "','" . $request["pregunta_50"] . "','" . $request["pregunta_51"] . "','" . $request["pregunta_52"] . "','" . $request["pregunta_53"] . "','" . $request["pregunta_54"] . "','" . $request["pregunta_55"] . "','" . $request["pregunta_56"] . "','" . $request["pregunta_57"] . "','" . $request["pregunta_58"] . "','" . $request["pregunta_59"] . "','" . $request["pregunta_60"] . "','" . $request["pregunta_61"] . "','" . $request["pregunta_62"] . "','" . $request["pregunta_63"] . "','" . $request["pregunta_64"] . "','" . $request["pregunta_65"] . "','" . $request["pregunta_66"] . "','" . $request["pregunta_67"] . "','" . $request["pregunta_68"] . "','" . $request["pregunta_69"] . "','" . $request["pregunta_70"] . "','" . $request["pregunta_71"] . "','" . $request["pregunta_72"] . "','" . $request["pregunta_73"] . "','" . $request["pregunta_74"] . "','" . $request["pregunta_75"] . "','" . $request["pregunta_76"] . "','" . $request["pregunta_77"] . "','" . $request["pregunta_78"] . "','" . $request["pregunta_79"] . "','" . $request["pregunta_80"] . "','" . $request["pregunta_81"] . "','" . $request["supervisor_04"] . "','" . $request["pregunta_82"] . "','" . $request["pregunta_83"] . "','" . $request["pregunta_84"] . "','" . $request["pregunta_85"] . "','" . $request["pregunta_86"] . "','" . $request["pregunta_87"] . "','" . $request["pregunta_88"]  . "','" . $request["pregunta_89"] . "','" . $request["supervisor_05"] . "','" . $request["pregunta_90"] . "','" . $request["pregunta_91"] . "','" . $request["pregunta_92"] . "','" . $request["pregunta_93"] . "','" . $request["pregunta_94"] . "','" . $request["pregunta_95"] . "','" . $request["pregunta_96"] . "','" . $request["pregunta_97"] . "','" . $request["pregunta_98"] . "','" . $request["pregunta_99"] . "','" . $request["pregunta_100"] . "','" . $request["pregunta_101"] . "','" . $request["pregunta_102"] . "','" . $request["pregunta_103"] . "','" . $request["pregunta_104"] . "','" . $request["pregunta_105"] . "','" . $request["pregunta_106"] . "','" . $request["expediente_01"] . "','" . $request["pregunta_107"] . "','" . $request["pregunta_108"] . "','" . $request["pregunta_109"] . "','" . $request["pregunta_110"] . "','" . $request["pregunta_111"] . "','" . $request["pregunta_112"] . "','" . $request["pregunta_113"] . "','" . $request["expediente_02"] . "','" . $request["pregunta_114"] . "','" . $request["pregunta_115"]  . "','" . $request["pregunta_116"] . "','" . $request["pregunta_117"] . "','" . $request["pregunta_118"] . "','" . $request["pregunta_119"] . "','" . $request["pregunta_120"] . "','" . $request["pregunta_121"] . "','" . $request["pregunta_122"] . "','" . $request["pregunta_123"] . "','" . $request["pregunta_124"] . "','" . $request["pregunta_125"] . "','" . $request["pregunta_126"] . "','" . $request["pregunta_127"] . "','" . $request["pregunta_128"] . "','" . $request["pregunta_129"] . "','" . $request["pregunta_130"] . "','" . $request["expediente_03"] . "','" . $request["pregunta_131"] . "','" . $request["pregunta_132"] . "','" . $request["pregunta_133"] . "','" . $request["pregunta_134"] . "','" . $request["pregunta_135"] . "','" . $request["pregunta_136"] . "','" . $request["pregunta_137"] . "','" . $request["pregunta_138"] . "','" . $request["pregunta_139"] . "','" . $request["pregunta_140"] . "');";
    if ($conn->query($sql) === TRUE) {
        echo "New record created successfully";
    } else {
        echo "Error: " . $sql . "<br>" . $conn->error;
    }
    $conn->close();
}
